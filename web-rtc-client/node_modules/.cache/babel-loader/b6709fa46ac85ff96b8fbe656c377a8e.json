{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/stanislavpanchenko/Documents/development/web-rtc/web-rtc-client/src/socket/react-socket-connector/react-socket-connector.tsx\";\nimport React from 'react';\nimport { socket } from \"../socket\";\n\nfunction socketConnector(socketInstanceMapper) {\n  const dispatch = action => {\n    if (typeof action === \"function\") {\n      action(dispatch);\n    } else {\n      const {\n        type,\n        ...rest\n      } = action;\n      socket.emit(type, rest, d => {\n        console.log(d);\n      });\n    }\n  };\n\n  const mappedSocket = socketInstanceMapper(dispatch);\n\n  const WithSocket = Component => {\n    WithSocket.displayName = `withSocket(${Component.displayName || 'Component'})`;\n    return props => /*#__PURE__*/_jsxDEV(Component, { ...props,\n      ...mappedSocket\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 28\n    }, this);\n  };\n\n  return WithSocket;\n}\n\nexport { socketConnector };","map":{"version":3,"sources":["/Users/stanislavpanchenko/Documents/development/web-rtc/web-rtc-client/src/socket/react-socket-connector/react-socket-connector.tsx"],"names":["React","socket","socketConnector","socketInstanceMapper","dispatch","action","type","rest","emit","d","console","log","mappedSocket","WithSocket","Component","displayName","props"],"mappings":";;AAAA,OAAOA,KAAP,MAA+B,OAA/B;AACA,SAAQC,MAAR,QAAqB,WAArB;;AAIA,SAASC,eAAT,CAAyBC,oBAAzB,EAA6F;AAC3F,QAAMC,QAAQ,GAAKC,MAAF,IAAsB;AACrC,QAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAiC;AAC/BA,MAAAA,MAAM,CAACD,QAAD,CAAN;AACD,KAFD,MAEO;AACL,YAAM;AAACE,QAAAA,IAAD;AAAO,WAAGC;AAAV,UAAkBF,MAAxB;AACAJ,MAAAA,MAAM,CAACO,IAAP,CAAYF,IAAZ,EAAkBC,IAAlB,EAAyBE,CAAD,IAAO;AAC7BC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD,OAFD;AAGD;AACF,GATD;;AAUA,QAAMG,YAAY,GAAGT,oBAAoB,CAACC,QAAD,CAAzC;;AAEA,QAAMS,UAAe,GAAIC,SAAD,IAAoB;AAC1CD,IAAAA,UAAU,CAACE,WAAX,GAA0B,cAAaD,SAAS,CAACC,WAAV,IAAyB,WAAY,GAA5E;AACA,WAAQC,KAAD,iBAAgB,QAAC,SAAD,OAAeA,KAAf;AAAA,SAA0BJ;AAA1B;AAAA;AAAA;AAAA;AAAA,YAAvB;AACD,GAHD;;AAKA,SAAOC,UAAP;AACD;;AAED,SAASX,eAAT","sourcesContent":["import React, {ReactNode} from 'react'\nimport {socket} from \"../socket\";\n\ntype Action = {type: string, [key: string]: any} | Function\n\nfunction socketConnector(socketInstanceMapper: (dispatch: (action: Action) => void) =>  void){\n  const dispatch = ( action: Action ) => {\n    if (typeof action === \"function\"){\n      action(dispatch)\n    } else {\n      const {type, ...rest} = action\n      socket.emit(type, rest, (d) => {\n        console.log(d)\n      })\n    }\n  }\n  const mappedSocket = socketInstanceMapper(dispatch)\n\n  const WithSocket: any = (Component: any) => {\n    WithSocket.displayName = `withSocket(${Component.displayName || 'Component'})`\n    return (props: any) => <Component {...props} {...mappedSocket}/>\n  }\n\n  return WithSocket\n}\n\nexport { socketConnector }"]},"metadata":{},"sourceType":"module"}