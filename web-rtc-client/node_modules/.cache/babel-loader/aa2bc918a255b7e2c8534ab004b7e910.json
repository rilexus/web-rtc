{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useRef } from \"react\";\nimport { socket } from \"../socket\";\n\nfunction useSubscription(type, callback) {\n  _s();\n\n  const ref = useRef(callback);\n  ref.current = callback;\n  useEffect(() => {\n    socket.on(type, callback);\n  }, [type, ref]);\n}\n\n_s(useSubscription, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\nexport { useSubscription };","map":{"version":3,"sources":["/Users/stanislavpanchenko/Documents/development/web-rtc/web-rtc-client/src/socket/use-subscription/useSubscription.ts"],"names":["useEffect","useRef","socket","useSubscription","type","callback","ref","current","on"],"mappings":";;AAAA,SAAQA,SAAR,EAAmBC,MAAnB,QAAgC,OAAhC;AACA,SAAQC,MAAR,QAAqB,WAArB;;AAEA,SAASC,eAAT,CAAyBC,IAAzB,EAAuCC,QAAvC,EAA4D;AAAA;;AAC1D,QAAMC,GAAG,GAAGL,MAAM,CAACI,QAAD,CAAlB;AACAC,EAAAA,GAAG,CAACC,OAAJ,GAAcF,QAAd;AACAL,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,MAAM,CAACM,EAAP,CAAUJ,IAAV,EAAgBC,QAAhB;AACD,GAFQ,EAEN,CAACD,IAAD,EAAME,GAAN,CAFM,CAAT;AAGD;;GANQH,e;;AAOT,SAAQA,eAAR","sourcesContent":["import {useEffect, useRef} from \"react\";\nimport {socket} from \"../socket\";\n\nfunction useSubscription(type: string, callback: () => void){\n  const ref = useRef(callback)\n  ref.current = callback\n  useEffect(() => {\n    socket.on(type, callback)\n  }, [type,ref])\n}\nexport {useSubscription}"]},"metadata":{},"sourceType":"module"}